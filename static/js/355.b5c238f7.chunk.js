"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[355],{9355:(s,t,e)=>{e.r(t),e.d(t,{default:()=>F,withRouter:()=>U});const a={profile__info:"ProfileInfo_profile__info__WU0CE"};var r=e(2926),o=e(2791),i=e(184);const p=s=>{let[t,e]=(0,o.useState)(!1),[r,p]=(0,o.useState)(s.status);(0,o.useEffect)((()=>{p(s.status)}),[s.status]);return(0,i.jsxs)("div",{className:a.profile_status,children:[!t&&(0,i.jsx)("div",{children:(0,i.jsxs)("span",{onDoubleClick:()=>{e(!0)},children:[" ",s.status||"------"]})}),t&&(0,i.jsx)("div",{children:(0,i.jsx)("input",{onChange:s=>{console.log(s.currentTarget.value),p(s.currentTarget.value)},onBlur:()=>{e(!1),s.updateStatus(r)},autoFocus:!0,value:r})})]})},l=s=>s.profile?(0,i.jsxs)("div",{className:a.profile__info,children:[(0,i.jsx)("img",{className:a.img,src:"https://pic.rutubelist.ru/video/46/aa/46aaeeeed034cb74cef4bb100173d9df.jpg"}),(0,i.jsx)("div",{children:(0,i.jsx)(p,{status:s.status,updateStatus:s.updateStatus})})]}):(0,i.jsx)(r.Z,{}),u="Post_post__WFKZJ",d="Post_like__btn__GA2Lq",n="Post_img__0y-Jc",c="Post_post__wrapper__ZC7aE",_=s=>(0,i.jsxs)("div",{className:c,children:[(0,i.jsxs)("div",{className:u,children:[(0,i.jsx)("img",{className:n,src:"https://mykaleidoscope.ru/x/uploads/posts/2022-09/1663618522_9-mykaleidoscope-ru-p-veselaya-svinka-krasivo-9.jpg",alt:""}),(0,i.jsx)("div",{children:s.message})]}),(0,i.jsx)("div",{className:d,children:(0,i.jsxs)("button",{children:["like: ",s.likeCount]})})]}),h={add_post__wrapper:"MyPosts_add_post__wrapper__FQRhF"};var f=e(6139),m=e(704),j=e(5304),x=e(1816);const v=(0,j.D)(10),g=(0,m.Z)({form:"profileAddPostForm"})((s=>(0,i.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,i.jsxs)("div",{className:h.add_post__wrapper,children:[(0,i.jsx)("span",{children:"My posts:"}),(0,i.jsx)(f.Z,{validate:[j.C,v],name:"newPostBody",component:x.gx,placeholder:"Add post..."})]}),(0,i.jsx)("button",{children:"Add post"})]}))),P=s=>{let t=s.profilePage.posts.map((s=>(0,i.jsx)(_,{message:s.post,likeCount:s.likeCount})));return(0,i.jsxs)("div",{className:h.posts__wrapper,children:[(0,i.jsx)(g,{onSubmit:t=>{s.addPost(t.newPostBody)}}),t]})};var S=e(6070),k=e(4420);const b=(0,k.$j)((s=>({profilePage:s.profilePage})),(s=>({addPost:t=>{s((0,S.Wl)(t))}})))(P),w="Profile_profile__wrapper__PtZ7w",C=s=>(0,i.jsxs)("div",{className:w,children:[(0,i.jsx)(l,{profile:s.profile,status:s.status,updateStatus:s.updateStatus}),(0,i.jsx)(b,{store:s.store})]});var y=e(7689),N=e(1548),A=e(1154);function U(s){return t=>{const e={params:(0,y.UO)()};return(0,i.jsx)(s,{...t,match:e})}}class Z extends o.Component{componentDidMount(){let s=this.props.match.params.userId;s||(s=this.props.authorizedUserId,s||this.props.history.push("login")),this.props.getUserProfile(s),this.props.getStatus(s)}render(){return(0,i.jsx)(C,{...this.props,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})}}const F=(0,A.qC)((0,k.$j)((s=>({profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.userId,isAuth:s.auth.isAuth})),{getUserProfile:S.et,getStatus:S.lR,updateStatus:S.Nf}),U,N.D)(Z)}}]);
//# sourceMappingURL=355.b5c238f7.chunk.js.map